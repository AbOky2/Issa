{"ast":null,"code":"import _defineProperty from \"/usr/src/kit-le-nid/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/usr/src/kit-le-nid/pages/dashboard/bookmark.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, Typography } from '@material-ui/core';\nimport Link from 'next/link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AdminContentWrapper } from '../../components/wrapper';\nimport { addBookmarkApiMethod, getCurrentUserkApiMethod } from '../../lib/api/customer';\nimport Card from '../../components/card';\nimport { Btn } from '../../components/form';\nimport withAuth from '../../lib/withAuth';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    notFound: {\n      '& > div:first-of-type': {\n        marginBottom: '40px',\n        padding: '3.2rem',\n        borderRadius: '2.5rem',\n        color: 'white',\n        background: 'white',\n        margin: '2.8rem 0 5.6rem',\n        boxShadow: '0px 4px 20px rgba(24, 55, 50, 0.04)'\n      },\n      '& > div:first-of-type h3': {\n        marginBottom: 16,\n        '& span': {\n          marginRight: 5\n        }\n      }\n    },\n    card: {\n      width: 'calc(100% - 14px)'\n    },\n    btnContainer: {\n      textAlign: 'center',\n      '& > div': {\n        display: 'inline-block',\n        padding: '1.8rem 3rem',\n        background: '#4f80ff',\n        borderRadius: '10px',\n        '&:first-of-type': {\n          marginRight: 12\n        },\n        '&:last-of-type': {\n          marginLeft: 12,\n          background: 'white',\n          border: \"1px solid \".concat(theme.palette.newBlue),\n          '& a': {\n            color: '#4f80ff'\n          }\n        }\n      },\n      '& a': {\n        fontFamily: 'Open Sans',\n        fontStyle: 'normal',\n        fontWeight: '600',\n        fontSize: '18px',\n        lineHeight: '28px',\n        display: 'flex',\n        alignItems: 'center',\n        color: '#ffffff'\n      }\n    },\n    listContainer: _defineProperty({\n      width: 'calc(33% - 11px)',\n      marginBottom: '2rem',\n      '&:nth-child(3n+2)': {\n        margin: '0 2.1rem 2rem'\n      }\n    }, theme.breakpoints.down('sm'), {\n      width: '100%'\n    })\n  };\n});\n\nvar BookmarkPage = function BookmarkPage(_ref) {\n  _s();\n\n  var user = _ref.user;\n\n  var _useState = useState(user.bookmarks),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var classes = useStyles();\n\n  var handleBookmark = function handleBookmark(id) {\n    setState(state.filter(function (elem) {\n      return elem._id !== id;\n    }));\n    addBookmarkApiMethod({\n      id: id\n    });\n  };\n\n  useEffect(function () {\n    getCurrentUserkApiMethod().then(function (_ref2) {\n      var user = _ref2.user;\n      return setState(user.bookmarks);\n    });\n  }, []);\n  return __jsx(AdminContentWrapper, {\n    redirectDashboard: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, state !== null && state !== void 0 && state.length ? __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, state.map(function (_ref3) {\n    var _id = _ref3._id,\n        title = _ref3.title,\n        pictures = _ref3.pictures,\n        address = _ref3.address,\n        typeOfProperties = _ref3.typeOfProperties,\n        dimensions = _ref3.dimensions,\n        price = _ref3.price;\n    return __jsx(Grid, {\n      item: true,\n      key: _id,\n      className: classes.listContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, __jsx(Link, {\n      href: \"/dashboard/property/\".concat(_id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, __jsx(Card, {\n      _id: _id,\n      title: title,\n      src: pictures === null || pictures === void 0 ? void 0 : pictures[0],\n      address: address,\n      description: typeOfProperties,\n      dimensions: dimensions,\n      price: price,\n      liked: true,\n      onClick: handleBookmark,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }))));\n  })) : __jsx(\"div\", {\n    className: classes.notFound,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    variant: \"h1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"Vos favoris\"), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(Typography, {\n    variant: \"h3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"cring\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"\\uD83D\\uDE22\"), \"Vous n\\u2019avez pas encore de logements sauvegard\\xE9s en favoris\"), __jsx(Typography, {\n    variant: \"body1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Pour ajouter un logement dans vos favoris, il vous suffit de cliquer sur la coeur en haut \\xE0 gauche quand vous effectuez une recherche de logements. Ou bien, vous pouvez cliquer sur le boutton \\u201Csauvegarder\\u201D quand vous \\xEAtes sur la page d\\u2019un logement.\")), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    className: classes.btnContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, __jsx(Btn, {\n    href: \"/dashboard/search\",\n    text: \"Rechercher un logement \\xE0 acheter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }), __jsx(Btn, {\n    href: \"/dashboard/search\",\n    text: \"Rechercher un logement \\xE0 louer\",\n    whiteColor: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }))))));\n};\n\n_s(BookmarkPage, \"nyo8z4g8wKeibzZALClBOJalkMA=\", false, function () {\n  return [useStyles];\n});\n\n_c = BookmarkPage;\nBookmarkPage.propTypes = {\n  user: PropTypes.object.isRequired\n};\nexport default _c2 = withAuth(BookmarkPage);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BookmarkPage\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/usr/src/kit-le-nid/pages/dashboard/bookmark.js"],"names":["React","useState","useEffect","PropTypes","Grid","Typography","Link","makeStyles","AdminContentWrapper","addBookmarkApiMethod","getCurrentUserkApiMethod","Card","Btn","withAuth","useStyles","theme","notFound","marginBottom","padding","borderRadius","color","background","margin","boxShadow","marginRight","card","width","btnContainer","textAlign","display","marginLeft","border","palette","newBlue","fontFamily","fontStyle","fontWeight","fontSize","lineHeight","alignItems","listContainer","breakpoints","down","BookmarkPage","user","bookmarks","state","setState","classes","handleBookmark","id","filter","elem","_id","then","length","map","title","pictures","address","typeOfProperties","dimensions","price","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid, Typography } from '@material-ui/core';\nimport Link from 'next/link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AdminContentWrapper } from '../../components/wrapper';\nimport { addBookmarkApiMethod, getCurrentUserkApiMethod } from '../../lib/api/customer';\nimport Card from '../../components/card';\nimport { Btn } from '../../components/form';\nimport withAuth from '../../lib/withAuth';\n\nconst useStyles = makeStyles((theme) => ({\n  notFound: {\n    '& > div:first-of-type': {\n      marginBottom: '40px',\n      padding: '3.2rem',\n      borderRadius: '2.5rem',\n      color: 'white',\n      background: 'white',\n      margin: '2.8rem 0 5.6rem',\n      boxShadow: '0px 4px 20px rgba(24, 55, 50, 0.04)',\n    },\n    '& > div:first-of-type h3': {\n      marginBottom: 16,\n      '& span': {\n        marginRight: 5,\n      },\n    },\n  },\n  card: {\n    width: 'calc(100% - 14px)',\n  },\n  btnContainer: {\n    textAlign: 'center',\n    '& > div': {\n      display: 'inline-block',\n      padding: '1.8rem 3rem',\n      background: '#4f80ff',\n      borderRadius: '10px',\n      '&:first-of-type': {\n        marginRight: 12,\n      },\n      '&:last-of-type': {\n        marginLeft: 12,\n        background: 'white',\n        border: `1px solid ${theme.palette.newBlue}`,\n        '& a': {\n          color: '#4f80ff',\n        },\n      },\n    },\n    '& a': {\n      fontFamily: 'Open Sans',\n      fontStyle: 'normal',\n      fontWeight: '600',\n      fontSize: '18px',\n      lineHeight: '28px',\n      display: 'flex',\n      alignItems: 'center',\n      color: '#ffffff',\n    },\n  },\n  listContainer: {\n    width: 'calc(33% - 11px)',\n    marginBottom: '2rem',\n    '&:nth-child(3n+2)': {\n      margin: '0 2.1rem 2rem',\n    },\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n    },\n  },\n}));\nconst BookmarkPage = ({ user }) => {\n  const [state, setState] = useState(user.bookmarks);\n  const classes = useStyles();\n  const handleBookmark = (id) => {\n    setState(state.filter((elem) => elem._id !== id));\n    addBookmarkApiMethod({ id });\n  };\n  useEffect(() => {\n    getCurrentUserkApiMethod().then(({ user }) => setState(user.bookmarks));\n  }, []);\n  return (\n    <AdminContentWrapper redirectDashboard>\n      <div>\n        {state?.length ? (\n          <Grid container>\n            {state.map(({ _id, title, pictures, address, typeOfProperties, dimensions, price }) => (\n              <Grid item key={_id} className={classes.listContainer}>\n                <Link href={`/dashboard/property/${_id}`}>\n                  <a>\n                    <Card\n                      _id={_id}\n                      title={title}\n                      src={pictures?.[0]}\n                      address={address}\n                      description={typeOfProperties}\n                      dimensions={dimensions}\n                      price={price}\n                      liked\n                      onClick={handleBookmark}\n                    />\n                  </a>\n                </Link>\n              </Grid>\n            ))}\n          </Grid>\n        ) : (\n          <div className={classes.notFound}>\n            <Typography variant=\"h1\">Vos favoris</Typography>\n            <div>\n              <Typography variant=\"h3\">\n                <span role=\"img\" aria-label=\"cring\">\n                  😢\n                </span>\n                Vous n’avez pas encore de logements sauvegardés en favoris\n              </Typography>\n              <Typography variant=\"body1\">\n                Pour ajouter un logement dans vos favoris, il vous suffit de cliquer sur la coeur en\n                haut à gauche quand vous effectuez une recherche de logements. Ou bien, vous pouvez\n                cliquer sur le boutton “sauvegarder” quand vous êtes sur la page d’un logement.\n              </Typography>\n            </div>\n            <div>\n              <Grid container justify=\"center\" className={classes.btnContainer}>\n                <Btn href=\"/dashboard/search\" text=\"Rechercher un logement à acheter\" />\n                <Btn href=\"/dashboard/search\" text=\"Rechercher un logement à louer\" whiteColor />\n              </Grid>\n            </div>\n          </div>\n        )}\n      </div>\n    </AdminContentWrapper>\n  );\n};\n\nBookmarkPage.propTypes = {\n  user: PropTypes.object.isRequired,\n};\n\nexport default withAuth(BookmarkPage);\n"]},"metadata":{},"sourceType":"module"}