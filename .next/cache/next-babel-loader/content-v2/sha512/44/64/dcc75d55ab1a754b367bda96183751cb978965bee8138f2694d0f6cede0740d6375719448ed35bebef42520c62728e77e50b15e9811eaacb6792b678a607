{"ast":null,"code":"var _jsxFileName = \"/usr/src/kit-le-nid/components/admin/partnerModal/index.js\";\nvar __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { addPartnerApiMethod, updatePartnerApiMethod } from '../../../lib/api/admin';\nimport First from './first';\nimport Second from './second';\nimport Third from './third';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'relatve',\n    width: '100%'\n  },\n  backButton: {\n    marginRight: theme.spacing(1)\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  },\n  closeModal: {\n    position: 'sticky',\n    cursor: 'pointer',\n    padding: 10,\n    zIndex: 10,\n    backgroundColor: 'white',\n    '&:hover': {\n      backgroundColor: '#bbd0ff',\n      color: 'white'\n    }\n  }\n}));\n\nconst getSteps = () => ['Information', 'Autre', 'Contenu'];\n\nexport default function HorizontalLabelPositionBelowStepper({\n  current = {},\n  handleSubmit,\n  handleClose\n}) {\n  const classes = useStyles();\n  const {\n    0: state,\n    1: setState\n  } = useState(current);\n  const {\n    0: activeStep,\n    1: setActiveStep\n  } = useState(0);\n  const steps = getSteps();\n\n  const handleBack = () => setActiveStep(prevActiveStep => prevActiveStep - 1);\n\n  const handleReset = () => setActiveStep(0);\n\n  const handleChange = useCallback(name => value => setState(_objectSpread(_objectSpread({}, state), {}, {\n    [name]: value\n  })), [state, setState]);\n\n  const handleNext = async () => {\n    if (activeStep === steps.length - 1) {\n      let data;\n\n      if (state !== null && state !== void 0 && state._id) {\n        const {\n          _id\n        } = state,\n              form = _objectWithoutProperties(state, [\"_id\"]);\n\n        data = await updatePartnerApiMethod(_id, form);\n      } else data = await addPartnerApiMethod(state);\n\n      handleSubmit(data.list);\n    } else setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const getStepContent = stepIndex => {\n    switch (stepIndex) {\n      case 0:\n        return __jsx(First, {\n          onChange: handleChange,\n          values: state,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 16\n          }\n        });\n\n      case 1:\n        return __jsx(Second, {\n          onChange: handleChange,\n          values: state,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 16\n          }\n        });\n\n      case 2:\n        return __jsx(Third, {\n          onChange: handleChange,\n          values: state,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 16\n          }\n        });\n\n      default:\n        return 'Unknown stepIndex';\n    }\n  };\n\n  useEffect(() => {\n    setState(current);\n  }, [current]);\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, __jsx(Stepper, {\n    activeStep: activeStep,\n    alternativeLabel: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, steps.map(label => __jsx(Step, {\n    key: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, __jsx(StepLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, label)))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, activeStep === steps.length ? __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    className: classes.instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"All steps completed\"), __jsx(Button, {\n    onClick: handleReset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Reset\")) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    className: classes.instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, getStepContent(activeStep)), __jsx(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    disabled: activeStep === 0,\n    onClick: handleBack,\n    className: classes.backButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \"Precedent\"), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, activeStep === steps.length - 1 ? 'Fin' : 'Suivant')))));\n}","map":{"version":3,"sources":["/usr/src/kit-le-nid/components/admin/partnerModal/index.js"],"names":["React","useState","useCallback","useEffect","makeStyles","Stepper","Step","StepLabel","Button","Typography","addPartnerApiMethod","updatePartnerApiMethod","First","Second","Third","useStyles","theme","root","position","width","backButton","marginRight","spacing","instructions","marginTop","marginBottom","closeModal","cursor","padding","zIndex","backgroundColor","color","getSteps","HorizontalLabelPositionBelowStepper","current","handleSubmit","handleClose","classes","state","setState","activeStep","setActiveStep","steps","handleBack","prevActiveStep","handleReset","handleChange","name","value","handleNext","length","data","_id","form","list","getStepContent","stepIndex","map","label"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { addPartnerApiMethod, updatePartnerApiMethod } from '../../../lib/api/admin';\n\nimport First from './first';\nimport Second from './second';\nimport Third from './third';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relatve',\n    width: '100%',\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  closeModal: {\n    position: 'sticky',\n    cursor: 'pointer',\n    padding: 10,\n    zIndex: 10,\n    backgroundColor: 'white',\n    '&:hover': {\n      backgroundColor: '#bbd0ff',\n      color: 'white',\n    },\n  },\n}));\n\nconst getSteps = () => ['Information', 'Autre', 'Contenu'];\n\nexport default function HorizontalLabelPositionBelowStepper({\n  current = {},\n  handleSubmit,\n  handleClose,\n}) {\n  const classes = useStyles();\n  const [state, setState] = useState(current);\n  const [activeStep, setActiveStep] = useState(0);\n  const steps = getSteps();\n  const handleBack = () => setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  const handleReset = () => setActiveStep(0);\n  const handleChange = useCallback((name) => (value) => setState({ ...state, [name]: value }), [\n    state,\n    setState,\n  ]);\n  const handleNext = async () => {\n    if (activeStep === steps.length - 1) {\n      let data;\n      if (state?._id) {\n        const { _id, ...form } = state;\n        data = await updatePartnerApiMethod(_id, form);\n      } else data = await addPartnerApiMethod(state);\n      handleSubmit(data.list);\n    } else setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const getStepContent = (stepIndex) => {\n    switch (stepIndex) {\n      case 0:\n        return <First onChange={handleChange} values={state} />;\n      case 1:\n        return <Second onChange={handleChange} values={state} />;\n      case 2:\n        return <Third onChange={handleChange} values={state} />;\n      default:\n        return 'Unknown stepIndex';\n    }\n  };\n  useEffect(() => {\n    setState(current);\n  }, [current]);\n\n  return (\n    <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <div>\n        {activeStep === steps.length ? (\n          <div>\n            <Typography className={classes.instructions}>All steps completed</Typography>\n            <Button onClick={handleReset}>Reset</Button>\n          </div>\n        ) : (\n          <div>\n            <Typography className={classes.instructions}>{getStepContent(activeStep)}</Typography>\n            <div className=\"text-center\">\n              <Button\n                disabled={activeStep === 0}\n                onClick={handleBack}\n                className={classes.backButton}\n              >\n                Precedent\n              </Button>\n              <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n                {activeStep === steps.length - 1 ? 'Fin' : 'Suivant'}\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}