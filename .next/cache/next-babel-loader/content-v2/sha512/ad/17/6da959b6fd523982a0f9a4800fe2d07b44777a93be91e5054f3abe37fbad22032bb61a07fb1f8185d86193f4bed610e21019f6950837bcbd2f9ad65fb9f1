{"ast":null,"code":"var _jsxFileName = \"/usr/src/kit-le-nid/pages/public/login.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from 'react';\nimport Head from 'next/head';\nimport NProgress from 'nprogress';\nimport { Grid, Checkbox, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport { Btn, Select, Input } from '../../components/form';\nimport withAuth from '../../lib/withAuth';\nimport { Student, Buyer } from '../../helpers/user';\nimport { signIn, signUp } from '../../lib/api/public';\nimport LogoImg from '../../static/img/logo-full.png';\nconst useStyles = makeStyles({\n  container: {\n    height: '100%',\n    paddingTop: '3rem',\n    '& > div > a > img': {\n      width: 137\n    },\n    '& h1': {\n      display: 'block',\n      marginTop: 0,\n      marginBottom: '1rem',\n      textAlign: 'center',\n      fontFamily: 'Open Sans',\n      fontSize: '3rem',\n      fontWeight: 'bold',\n      letterSpacing: 'normal',\n      color: '#4f80ff'\n    },\n    '& h2': {\n      paddingLeft: '0',\n      marginTop: '0',\n      marginBottom: '30px',\n      textAlign: 'center',\n      fontFamily: 'Open Sans',\n      fontSize: '1.8rem',\n      fontWeight: '600',\n      color: 'rgba(26, 46, 108, 0.5)'\n    },\n    '& > div > a': {\n      marginBottom: '3.5rem'\n    },\n    '& input': {\n      display: 'block',\n      padding: '3rem 1.4rem',\n      boxSizing: 'border-box',\n      width: '100%',\n      height: '38px',\n      borderRadius: '6px',\n      border: 'solid 1px #c7cfd6',\n      fontFamily: 'Open Sans',\n      fontSize: '1.4rem',\n      fontWeight: 'normal',\n      fontStretch: 'normal',\n      fontStyle: 'normal',\n      lineHeight: 'normal',\n      letterSpacing: 'normal',\n      color: '#8e97a1'\n    },\n    '& input:focus': {\n      boxShadow: '0px 4px 10px 3px rgba(0, 0, 0, 0.11)',\n      borderColor: '#06ae88'\n    },\n    '& a': {\n      display: 'inline-block',\n      color: '#0fc1a9'\n    }\n  },\n  signinFormContainer: {\n    padding: '4rem 8.5rem ',\n    backgroundColor: 'white',\n    borderRadius: '1rem',\n    borderTopLeftRadius: '0',\n    borderBottomLeftRadius: '0'\n  },\n  formContainerParent: {\n    minHeight: '100vh',\n    margin: 'auto'\n  },\n  formContainer: {\n    borderRadius: '15px',\n    textAlign: 'left',\n    '& p': {\n      fontFamily: 'Open Sans',\n      fontSize: '1.6rem'\n    }\n  },\n  signinLogo: {\n    borderTopLeftRadius: '1rem',\n    borderBottomLeftRadius: '1rem',\n    background: \"url('../../static/img/login.png') no-repeat\",\n    backgroundSize: 'cover'\n  },\n  loginBtn: {\n    padding: '2rem 0'\n  },\n  btnContainer: {\n    marginTop: 30,\n    '& > div:first-of-type': {\n      paddingRight: 5\n    },\n    '& > div:last-of-type': {\n      paddingLeft: 5\n    }\n  },\n  checkBoxContainer: {\n    marginTop: '2rem',\n    '& > span': {\n      paddingLeft: 0\n    },\n    '& h3': {\n      color: 'rgba(26, 46, 108, 0.5)'\n    }\n  }\n});\n\nconst SignUp = ({\n  values = {},\n  handleChange\n}) => __jsx(Grid, {\n  container: true,\n  item: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 3\n  }\n}, __jsx(Input, {\n  label: \"Nom*\",\n  placeholder: \"Nom*\",\n  onChange: handleChange,\n  name: \"lastName\",\n  position: \"left\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }\n}), __jsx(Input, {\n  label: \"Pr\\xE9nom*\",\n  placeholder: \"Pr\\xE9nom*\",\n  onChange: handleChange,\n  name: \"firstName\",\n  position: \"right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }\n}), __jsx(Input, {\n  label: \"E-mail*\",\n  placeholder: \"Votre e-mail\",\n  onChange: handleChange,\n  name: \"email\",\n  type: \"email\",\n  position: \"left\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }\n}), __jsx(Input, {\n  label: \"T\\xE9l\\xE9phone\",\n  placeholder: \"T\\xE9l\\xE9phone\",\n  onChange: handleChange,\n  name: \"phone\",\n  type: \"phone\",\n  position: \"right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }\n}), __jsx(Input, {\n  label: \"Mot de passe\",\n  placeholder: \"Mot de passe\",\n  onChange: handleChange,\n  name: \"password\",\n  type: \"password\",\n  position: \"left\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }\n}), __jsx(Select, {\n  name: \"status\",\n  value: values.role,\n  onChange: handleChange,\n  list: [{\n    name: 'Etudiant',\n    value: Student\n  }, {\n    name: 'Jeune Actif',\n    value: Buyer\n  }],\n  label: \"Status\",\n  position: \"right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }\n}), __jsx(Input, {\n  label: \"Code parrain\",\n  placeholder: \"Code\",\n  onChange: handleChange,\n  name: \"sponsorshipCode\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }\n}));\n\nconst SignIn = ({\n  values = {},\n  handleChange\n}) => __jsx(React.Fragment, null, __jsx(Input, {\n  label: \"E-mail*\",\n  value: values.email,\n  onChange: handleChange,\n  name: \"email\",\n  type: \"email\",\n  position: \"left\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }\n}), __jsx(Input, {\n  label: \"Mot de passe\",\n  value: values.password,\n  onChange: handleChange,\n  name: \"password\",\n  type: \"password\",\n  position: \"right\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }\n}));\n\nconst propTypes = {\n  values: PropTypes.objectOf(PropTypes.object).isRequired,\n  handleChange: PropTypes.func.isRequired\n};\nSignIn.propTypes = propTypes;\nSignUp.propTypes = propTypes;\n\nconst LoginTab = () => {\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    email: 'toto@test.test',\n    firstName: 'toto',\n    lastName: 'toto',\n    password: 'test',\n    phone: '000000000',\n    sponsorshipCode: 'sdfsdf',\n    role: Student\n  }); // const [state, setState] = useState({ email: 'roomer@test.test', password: 'test' });\n\n  const {\n    0: isRegisterinView,\n    1: setIsRegisterinView\n  } = useState(true);\n  const [checked, setChecked] = React.useState(true);\n\n  const handleCheck = event => {\n    setChecked(event.target.checked);\n  };\n\n  const toggleView = () => setIsRegisterinView(!isRegisterinView);\n\n  const onClick = () => {\n    let data = state;\n    let authReq = signUp;\n    NProgress.start();\n\n    if (!isRegisterinView) {\n      data = {\n        email: data.email,\n        password: data.password\n      };\n      authReq = signIn;\n    }\n\n    authReq(data).then(({\n      user\n    }) => {\n      NProgress.done();\n      window.location = user.role === 'admin' ? '/admin' : '/dashboard';\n    });\n  };\n\n  const handleChange = name => ({\n    target: {\n      value\n    }\n  }) => setState(_objectSpread(_objectSpread({}, state), {}, {\n    [name]: value\n  }));\n\n  const classes = useStyles();\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, \"Login\")), __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\",\n    id: \"login\",\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"fullwidth text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: LogoImg,\n    alt: \"kit le nid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  })), __jsx(Grid, {\n    container: true,\n    item: true,\n    alignItems: \"stretch\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    item: true,\n    xs: 6,\n    className: classes.signinLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }), __jsx(Grid, {\n    container: true,\n    item: true,\n    direction: \"column\",\n    justify: \"space-between\",\n    alignItems: \"center\",\n    md: 6,\n    xs: 12,\n    className: classes.signinFormContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    item: true,\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"fullwidth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 19\n    }\n  }, isRegisterinView ? 'Inscrivez-vous gratuitement !' : 'Connexion'), __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 19\n    }\n  }, \"Acc\\xE9der \\xE0 tout notre accompagnement.\"), __jsx(Grid, {\n    container: true,\n    item: true,\n    justify: \"center\",\n    className: classes.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 19\n    }\n  }, isRegisterinView ? __jsx(SignUp, {\n    values: state,\n    handleChange: handleChange,\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 23\n    }\n  }) : __jsx(SignIn, {\n    values: state,\n    handleChange: handleChange,\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 23\n    }\n  })), isRegisterinView && __jsx(Grid, {\n    container: true,\n    alignItems: \"center\",\n    className: classes.checkBoxContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 21\n    }\n  }, __jsx(Checkbox, {\n    color: \"primary\",\n    inputProps: {\n      'aria-label': 'secondary checkbox'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 23\n    }\n  }), __jsx(Typography, {\n    variant: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 23\n    }\n  }, \"J\\u2019accepte les conditions g\\xE9n\\xE9rales\")), __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    className: classes.btnContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 19\n    }\n  }, __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  }, __jsx(Btn, {\n    text: isRegisterinView ? 'Créer un compte' : 'Connectez-vous',\n    onClick: onClick,\n    className: \"blueColor full login-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 23\n    }\n  })), __jsx(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, __jsx(Btn, {\n    text: isRegisterinView ? 'Connectez-vous' : 'Créer un compte',\n    onClick: toggleView,\n    whiteColor: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 23\n    }\n  }))))))))));\n};\n\nLoginTab.propTypes = {};\nexport default withAuth(LoginTab, {\n  logoutRequired: true\n});","map":{"version":3,"sources":["/usr/src/kit-le-nid/pages/public/login.js"],"names":["React","useState","Head","NProgress","Grid","Checkbox","Typography","makeStyles","PropTypes","Btn","Select","Input","withAuth","Student","Buyer","signIn","signUp","LogoImg","useStyles","container","height","paddingTop","width","display","marginTop","marginBottom","textAlign","fontFamily","fontSize","fontWeight","letterSpacing","color","paddingLeft","padding","boxSizing","borderRadius","border","fontStretch","fontStyle","lineHeight","boxShadow","borderColor","signinFormContainer","backgroundColor","borderTopLeftRadius","borderBottomLeftRadius","formContainerParent","minHeight","margin","formContainer","signinLogo","background","backgroundSize","loginBtn","btnContainer","paddingRight","checkBoxContainer","SignUp","values","handleChange","role","name","value","SignIn","email","password","propTypes","objectOf","object","isRequired","func","LoginTab","state","setState","firstName","lastName","phone","sponsorshipCode","isRegisterinView","setIsRegisterinView","checked","setChecked","handleCheck","event","target","toggleView","onClick","data","authReq","start","then","user","done","window","location","classes","logoutRequired"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,UAAzB,QAA2C,mBAA3C;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,KAAtB,QAAmC,uBAAnC;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,oBAA/B;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,sBAA/B;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEA,MAAMC,SAAS,GAAGX,UAAU,CAAC;AAC3BY,EAAAA,SAAS,EAAE;AACTC,IAAAA,MAAM,EAAE,MADC;AAETC,IAAAA,UAAU,EAAE,MAFH;AAGT,yBAAqB;AACnBC,MAAAA,KAAK,EAAE;AADY,KAHZ;AAMT,YAAQ;AACNC,MAAAA,OAAO,EAAE,OADH;AAENC,MAAAA,SAAS,EAAE,CAFL;AAGNC,MAAAA,YAAY,EAAE,MAHR;AAINC,MAAAA,SAAS,EAAE,QAJL;AAKNC,MAAAA,UAAU,EAAE,WALN;AAMNC,MAAAA,QAAQ,EAAE,MANJ;AAONC,MAAAA,UAAU,EAAE,MAPN;AAQNC,MAAAA,aAAa,EAAE,QART;AASNC,MAAAA,KAAK,EAAE;AATD,KANC;AAiBT,YAAQ;AACNC,MAAAA,WAAW,EAAE,GADP;AAENR,MAAAA,SAAS,EAAE,GAFL;AAGNC,MAAAA,YAAY,EAAE,MAHR;AAINC,MAAAA,SAAS,EAAE,QAJL;AAKNC,MAAAA,UAAU,EAAE,WALN;AAMNC,MAAAA,QAAQ,EAAE,QANJ;AAONC,MAAAA,UAAU,EAAE,KAPN;AAQNE,MAAAA,KAAK,EAAE;AARD,KAjBC;AA2BT,mBAAe;AACbN,MAAAA,YAAY,EAAE;AADD,KA3BN;AA8BT,eAAW;AACTF,MAAAA,OAAO,EAAE,OADA;AAETU,MAAAA,OAAO,EAAE,aAFA;AAGTC,MAAAA,SAAS,EAAE,YAHF;AAITZ,MAAAA,KAAK,EAAE,MAJE;AAKTF,MAAAA,MAAM,EAAE,MALC;AAMTe,MAAAA,YAAY,EAAE,KANL;AAOTC,MAAAA,MAAM,EAAE,mBAPC;AAQTT,MAAAA,UAAU,EAAE,WARH;AASTC,MAAAA,QAAQ,EAAE,QATD;AAUTC,MAAAA,UAAU,EAAE,QAVH;AAWTQ,MAAAA,WAAW,EAAE,QAXJ;AAYTC,MAAAA,SAAS,EAAE,QAZF;AAaTC,MAAAA,UAAU,EAAE,QAbH;AAcTT,MAAAA,aAAa,EAAE,QAdN;AAeTC,MAAAA,KAAK,EAAE;AAfE,KA9BF;AA+CT,qBAAiB;AACfS,MAAAA,SAAS,EAAE,sCADI;AAEfC,MAAAA,WAAW,EAAE;AAFE,KA/CR;AAmDT,WAAO;AACLlB,MAAAA,OAAO,EAAE,cADJ;AAELQ,MAAAA,KAAK,EAAE;AAFF;AAnDE,GADgB;AAyD3BW,EAAAA,mBAAmB,EAAE;AACnBT,IAAAA,OAAO,EAAE,cADU;AAEnBU,IAAAA,eAAe,EAAE,OAFE;AAGnBR,IAAAA,YAAY,EAAE,MAHK;AAInBS,IAAAA,mBAAmB,EAAE,GAJF;AAKnBC,IAAAA,sBAAsB,EAAE;AALL,GAzDM;AAgE3BC,EAAAA,mBAAmB,EAAE;AACnBC,IAAAA,SAAS,EAAE,OADQ;AAEnBC,IAAAA,MAAM,EAAE;AAFW,GAhEM;AAoE3BC,EAAAA,aAAa,EAAE;AACbd,IAAAA,YAAY,EAAE,MADD;AAEbT,IAAAA,SAAS,EAAE,MAFE;AAGb,WAAO;AACLC,MAAAA,UAAU,EAAE,WADP;AAELC,MAAAA,QAAQ,EAAE;AAFL;AAHM,GApEY;AA4E3BsB,EAAAA,UAAU,EAAE;AACVN,IAAAA,mBAAmB,EAAE,MADX;AAEVC,IAAAA,sBAAsB,EAAE,MAFd;AAGVM,IAAAA,UAAU,EAAE,6CAHF;AAIVC,IAAAA,cAAc,EAAE;AAJN,GA5Ee;AAkF3BC,EAAAA,QAAQ,EAAE;AACRpB,IAAAA,OAAO,EAAE;AADD,GAlFiB;AAqF3BqB,EAAAA,YAAY,EAAE;AACZ9B,IAAAA,SAAS,EAAE,EADC;AAEZ,6BAAyB;AACvB+B,MAAAA,YAAY,EAAE;AADS,KAFb;AAKZ,4BAAwB;AACtBvB,MAAAA,WAAW,EAAE;AADS;AALZ,GArFa;AA8F3BwB,EAAAA,iBAAiB,EAAE;AACjBhC,IAAAA,SAAS,EAAE,MADM;AAEjB,gBAAY;AACVQ,MAAAA,WAAW,EAAE;AADH,KAFK;AAKjB,YAAQ;AACND,MAAAA,KAAK,EAAE;AADD;AALS;AA9FQ,CAAD,CAA5B;;AAwGA,MAAM0B,MAAM,GAAG,CAAC;AAAEC,EAAAA,MAAM,GAAG,EAAX;AAAeC,EAAAA;AAAf,CAAD,KACb,MAAC,IAAD;AAAM,EAAA,SAAS,MAAf;AAAgB,EAAA,IAAI,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE,MAAC,KAAD;AACE,EAAA,KAAK,EAAC,MADR;AAEE,EAAA,WAAW,EAAC,MAFd;AAGE,EAAA,QAAQ,EAAEA,YAHZ;AAIE,EAAA,IAAI,EAAC,UAJP;AAKE,EAAA,QAAQ,EAAC,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,EAQE,MAAC,KAAD;AACE,EAAA,KAAK,EAAC,YADR;AAEE,EAAA,WAAW,EAAC,YAFd;AAGE,EAAA,QAAQ,EAAEA,YAHZ;AAIE,EAAA,IAAI,EAAC,WAJP;AAKE,EAAA,QAAQ,EAAC,OALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EARF,EAeE,MAAC,KAAD;AACE,EAAA,KAAK,EAAC,SADR;AAEE,EAAA,WAAW,EAAC,cAFd;AAGE,EAAA,QAAQ,EAAEA,YAHZ;AAIE,EAAA,IAAI,EAAC,OAJP;AAKE,EAAA,IAAI,EAAC,OALP;AAME,EAAA,QAAQ,EAAC,MANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAfF,EAuBE,MAAC,KAAD;AACE,EAAA,KAAK,EAAC,iBADR;AAEE,EAAA,WAAW,EAAC,iBAFd;AAGE,EAAA,QAAQ,EAAEA,YAHZ;AAIE,EAAA,IAAI,EAAC,OAJP;AAKE,EAAA,IAAI,EAAC,OALP;AAME,EAAA,QAAQ,EAAC,OANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAvBF,EA+BE,MAAC,KAAD;AACE,EAAA,KAAK,EAAC,cADR;AAEE,EAAA,WAAW,EAAC,cAFd;AAGE,EAAA,QAAQ,EAAEA,YAHZ;AAIE,EAAA,IAAI,EAAC,UAJP;AAKE,EAAA,IAAI,EAAC,UALP;AAME,EAAA,QAAQ,EAAC,MANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA/BF,EAuCE,MAAC,MAAD;AACE,EAAA,IAAI,EAAC,QADP;AAEE,EAAA,KAAK,EAAED,MAAM,CAACE,IAFhB;AAGE,EAAA,QAAQ,EAAED,YAHZ;AAIE,EAAA,IAAI,EAAE,CACJ;AAAEE,IAAAA,IAAI,EAAE,UAAR;AAAoBC,IAAAA,KAAK,EAAEjD;AAA3B,GADI,EAEJ;AAAEgD,IAAAA,IAAI,EAAE,aAAR;AAAuBC,IAAAA,KAAK,EAAEhD;AAA9B,GAFI,CAJR;AAQE,EAAA,KAAK,EAAC,QARR;AASE,EAAA,QAAQ,EAAC,OATX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAvCF,EAkDE,MAAC,KAAD;AAAO,EAAA,KAAK,EAAC,cAAb;AAA4B,EAAA,WAAW,EAAC,MAAxC;AAA+C,EAAA,QAAQ,EAAE6C,YAAzD;AAAuE,EAAA,IAAI,EAAC,iBAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAlDF,CADF;;AAsDA,MAAMI,MAAM,GAAG,CAAC;AAAEL,EAAAA,MAAM,GAAG,EAAX;AAAeC,EAAAA;AAAf,CAAD,KACb,4BACE,MAAC,KAAD;AACE,EAAA,KAAK,EAAC,SADR;AAEE,EAAA,KAAK,EAAED,MAAM,CAACM,KAFhB;AAGE,EAAA,QAAQ,EAAEL,YAHZ;AAIE,EAAA,IAAI,EAAC,OAJP;AAKE,EAAA,IAAI,EAAC,OALP;AAME,EAAA,QAAQ,EAAC,MANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,EASE,MAAC,KAAD;AACE,EAAA,KAAK,EAAC,cADR;AAEE,EAAA,KAAK,EAAED,MAAM,CAACO,QAFhB;AAGE,EAAA,QAAQ,EAAEN,YAHZ;AAIE,EAAA,IAAI,EAAC,UAJP;AAKE,EAAA,IAAI,EAAC,UALP;AAME,EAAA,QAAQ,EAAC,OANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EATF,CADF;;AAoBA,MAAMO,SAAS,GAAG;AAChBR,EAAAA,MAAM,EAAElD,SAAS,CAAC2D,QAAV,CAAmB3D,SAAS,CAAC4D,MAA7B,EAAqCC,UAD7B;AAEhBV,EAAAA,YAAY,EAAEnD,SAAS,CAAC8D,IAAV,CAAeD;AAFb,CAAlB;AAIAN,MAAM,CAACG,SAAP,GAAmBA,SAAnB;AACAT,MAAM,CAACS,SAAP,GAAmBA,SAAnB;;AAEA,MAAMK,QAAQ,GAAG,MAAM;AACrB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBxE,QAAQ,CAAC;AACjC+D,IAAAA,KAAK,EAAE,gBAD0B;AAEjCU,IAAAA,SAAS,EAAE,MAFsB;AAGjCC,IAAAA,QAAQ,EAAE,MAHuB;AAIjCV,IAAAA,QAAQ,EAAE,MAJuB;AAKjCW,IAAAA,KAAK,EAAE,WAL0B;AAMjCC,IAAAA,eAAe,EAAE,QANgB;AAOjCjB,IAAAA,IAAI,EAAE/C;AAP2B,GAAD,CAAlC,CADqB,CAUrB;;AACA,QAAM;AAAA,OAACiE,gBAAD;AAAA,OAAmBC;AAAnB,MAA0C9E,QAAQ,CAAC,IAAD,CAAxD;AACA,QAAM,CAAC+E,OAAD,EAAUC,UAAV,IAAwBjF,KAAK,CAACC,QAAN,CAAe,IAAf,CAA9B;;AAEA,QAAMiF,WAAW,GAAIC,KAAD,IAAW;AAC7BF,IAAAA,UAAU,CAACE,KAAK,CAACC,MAAN,CAAaJ,OAAd,CAAV;AACD,GAFD;;AAIA,QAAMK,UAAU,GAAG,MAAMN,mBAAmB,CAAC,CAACD,gBAAF,CAA5C;;AAEA,QAAMQ,OAAO,GAAG,MAAM;AACpB,QAAIC,IAAI,GAAGf,KAAX;AACA,QAAIgB,OAAO,GAAGxE,MAAd;AACAb,IAAAA,SAAS,CAACsF,KAAV;;AAEA,QAAI,CAACX,gBAAL,EAAuB;AACrBS,MAAAA,IAAI,GAAG;AAAEvB,QAAAA,KAAK,EAAEuB,IAAI,CAACvB,KAAd;AAAqBC,QAAAA,QAAQ,EAAEsB,IAAI,CAACtB;AAApC,OAAP;AACAuB,MAAAA,OAAO,GAAGzE,MAAV;AACD;;AAEDyE,IAAAA,OAAO,CAACD,IAAD,CAAP,CAAcG,IAAd,CAAmB,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AAC/BxF,MAAAA,SAAS,CAACyF,IAAV;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkBH,IAAI,CAAC/B,IAAL,KAAc,OAAd,GAAwB,QAAxB,GAAmC,YAArD;AACD,KAHD;AAID,GAdD;;AAeA,QAAMD,YAAY,GAAIE,IAAD,IAAU,CAAC;AAAEuB,IAAAA,MAAM,EAAE;AAAEtB,MAAAA;AAAF;AAAV,GAAD,KAA2BW,QAAQ,iCAAMD,KAAN;AAAa,KAACX,IAAD,GAAQC;AAArB,KAAlE;;AACA,QAAMiC,OAAO,GAAG7E,SAAS,EAAzB;AAEA,SACE,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CADF,EAIE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAC,QAAxB;AAAiC,IAAA,UAAU,EAAC,QAA5C;AAAqD,IAAA,EAAE,EAAC,OAAxD;AAAgE,IAAA,SAAS,EAAE6E,OAAO,CAAC5E,SAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEF,OAAV;AAAmB,IAAA,GAAG,EAAC,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,IAAI,MAApB;AAAqB,IAAA,UAAU,EAAC,SAAhC;AAA0C,IAAA,OAAO,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAkB,IAAA,SAAS,EAAE8E,OAAO,CAAC7C,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,IAAD;AACE,IAAA,SAAS,MADX;AAEE,IAAA,IAAI,MAFN;AAGE,IAAA,SAAS,EAAC,QAHZ;AAIE,IAAA,OAAO,EAAC,eAJV;AAKE,IAAA,UAAU,EAAC,QALb;AAME,IAAA,EAAE,EAAE,CANN;AAOE,IAAA,EAAE,EAAE,EAPN;AAQE,IAAA,SAAS,EAAE6C,OAAO,CAACrD,mBARrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,IAAI,MAApB;AAAqB,IAAA,UAAU,EAAC,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKoC,gBAAgB,GAAG,+BAAH,GAAqC,WAA1D,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAFF,EAGE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,IAAI,MAApB;AAAqB,IAAA,OAAO,EAAC,QAA7B;AAAsC,IAAA,SAAS,EAAEiB,OAAO,CAAC9C,aAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG6B,gBAAgB,GACf,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAEN,KAAhB;AAAuB,IAAA,YAAY,EAAEb,YAArC;AAAmD,IAAA,OAAO,EAAE2B,OAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADe,GAGf,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAEd,KAAhB;AAAuB,IAAA,YAAY,EAAEb,YAArC;AAAmD,IAAA,OAAO,EAAE2B,OAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CAHF,EAUGR,gBAAgB,IACf,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,UAAU,EAAC,QAA3B;AAAoC,IAAA,SAAS,EAAEiB,OAAO,CAACvC,iBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,UAAU,EAAE;AAAE,oBAAc;AAAhB,KAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAKE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDALF,CAXJ,EAmBE,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAC,QAAxB;AAAiC,IAAA,SAAS,EAAEuC,OAAO,CAACzC,YAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AACE,IAAA,IAAI,EAAEwB,gBAAgB,GAAG,iBAAH,GAAuB,gBAD/C;AAEE,IAAA,OAAO,EAAEQ,OAFX;AAGE,IAAA,SAAS,EAAC,0BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAQE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AACE,IAAA,IAAI,EAAER,gBAAgB,GAAG,gBAAH,GAAsB,iBAD9C;AAEE,IAAA,OAAO,EAAEO,UAFX;AAGE,IAAA,UAAU,MAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CARF,CAnBF,CADF,CAVF,CAFF,CAJF,CADF,CAJF,CADF;AAkED,CAxGD;;AA0GAd,QAAQ,CAACL,SAAT,GAAqB,EAArB;AAEA,eAAetD,QAAQ,CAAC2D,QAAD,EAAW;AAAEyB,EAAAA,cAAc,EAAE;AAAlB,CAAX,CAAvB","sourcesContent":["import React, { useState } from 'react';\nimport Head from 'next/head';\nimport NProgress from 'nprogress';\nimport { Grid, Checkbox, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport { Btn, Select, Input } from '../../components/form';\nimport withAuth from '../../lib/withAuth';\nimport { Student, Buyer } from '../../helpers/user';\nimport { signIn, signUp } from '../../lib/api/public';\nimport LogoImg from '../../static/img/logo-full.png';\n\nconst useStyles = makeStyles({\n  container: {\n    height: '100%',\n    paddingTop: '3rem',\n    '& > div > a > img': {\n      width: 137,\n    },\n    '& h1': {\n      display: 'block',\n      marginTop: 0,\n      marginBottom: '1rem',\n      textAlign: 'center',\n      fontFamily: 'Open Sans',\n      fontSize: '3rem',\n      fontWeight: 'bold',\n      letterSpacing: 'normal',\n      color: '#4f80ff',\n    },\n    '& h2': {\n      paddingLeft: '0',\n      marginTop: '0',\n      marginBottom: '30px',\n      textAlign: 'center',\n      fontFamily: 'Open Sans',\n      fontSize: '1.8rem',\n      fontWeight: '600',\n      color: 'rgba(26, 46, 108, 0.5)',\n    },\n    '& > div > a': {\n      marginBottom: '3.5rem',\n    },\n    '& input': {\n      display: 'block',\n      padding: '3rem 1.4rem',\n      boxSizing: 'border-box',\n      width: '100%',\n      height: '38px',\n      borderRadius: '6px',\n      border: 'solid 1px #c7cfd6',\n      fontFamily: 'Open Sans',\n      fontSize: '1.4rem',\n      fontWeight: 'normal',\n      fontStretch: 'normal',\n      fontStyle: 'normal',\n      lineHeight: 'normal',\n      letterSpacing: 'normal',\n      color: '#8e97a1',\n    },\n    '& input:focus': {\n      boxShadow: '0px 4px 10px 3px rgba(0, 0, 0, 0.11)',\n      borderColor: '#06ae88',\n    },\n    '& a': {\n      display: 'inline-block',\n      color: '#0fc1a9',\n    },\n  },\n  signinFormContainer: {\n    padding: '4rem 8.5rem ',\n    backgroundColor: 'white',\n    borderRadius: '1rem',\n    borderTopLeftRadius: '0',\n    borderBottomLeftRadius: '0',\n  },\n  formContainerParent: {\n    minHeight: '100vh',\n    margin: 'auto',\n  },\n  formContainer: {\n    borderRadius: '15px',\n    textAlign: 'left',\n    '& p': {\n      fontFamily: 'Open Sans',\n      fontSize: '1.6rem',\n    },\n  },\n  signinLogo: {\n    borderTopLeftRadius: '1rem',\n    borderBottomLeftRadius: '1rem',\n    background: \"url('../../static/img/login.png') no-repeat\",\n    backgroundSize: 'cover',\n  },\n  loginBtn: {\n    padding: '2rem 0',\n  },\n  btnContainer: {\n    marginTop: 30,\n    '& > div:first-of-type': {\n      paddingRight: 5,\n    },\n    '& > div:last-of-type': {\n      paddingLeft: 5,\n    },\n  },\n  checkBoxContainer: {\n    marginTop: '2rem',\n    '& > span': {\n      paddingLeft: 0,\n    },\n    '& h3': {\n      color: 'rgba(26, 46, 108, 0.5)',\n    },\n  },\n});\nconst SignUp = ({ values = {}, handleChange }) => (\n  <Grid container item>\n    <Input\n      label=\"Nom*\"\n      placeholder=\"Nom*\"\n      onChange={handleChange}\n      name=\"lastName\"\n      position=\"left\"\n    />\n    <Input\n      label=\"Prénom*\"\n      placeholder=\"Prénom*\"\n      onChange={handleChange}\n      name=\"firstName\"\n      position=\"right\"\n    />\n    <Input\n      label=\"E-mail*\"\n      placeholder=\"Votre e-mail\"\n      onChange={handleChange}\n      name=\"email\"\n      type=\"email\"\n      position=\"left\"\n    />\n    <Input\n      label=\"Téléphone\"\n      placeholder=\"Téléphone\"\n      onChange={handleChange}\n      name=\"phone\"\n      type=\"phone\"\n      position=\"right\"\n    />\n    <Input\n      label=\"Mot de passe\"\n      placeholder=\"Mot de passe\"\n      onChange={handleChange}\n      name=\"password\"\n      type=\"password\"\n      position=\"left\"\n    />\n    <Select\n      name=\"status\"\n      value={values.role}\n      onChange={handleChange}\n      list={[\n        { name: 'Etudiant', value: Student },\n        { name: 'Jeune Actif', value: Buyer },\n      ]}\n      label=\"Status\"\n      position=\"right\"\n    />\n    <Input label=\"Code parrain\" placeholder=\"Code\" onChange={handleChange} name=\"sponsorshipCode\" />\n  </Grid>\n);\nconst SignIn = ({ values = {}, handleChange }) => (\n  <>\n    <Input\n      label=\"E-mail*\"\n      value={values.email}\n      onChange={handleChange}\n      name=\"email\"\n      type=\"email\"\n      position=\"left\"\n    />\n    <Input\n      label=\"Mot de passe\"\n      value={values.password}\n      onChange={handleChange}\n      name=\"password\"\n      type=\"password\"\n      position=\"right\"\n    />\n  </>\n);\nconst propTypes = {\n  values: PropTypes.objectOf(PropTypes.object).isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\nSignIn.propTypes = propTypes;\nSignUp.propTypes = propTypes;\n\nconst LoginTab = () => {\n  const [state, setState] = useState({\n    email: 'toto@test.test',\n    firstName: 'toto',\n    lastName: 'toto',\n    password: 'test',\n    phone: '000000000',\n    sponsorshipCode: 'sdfsdf',\n    role: Student,\n  });\n  // const [state, setState] = useState({ email: 'roomer@test.test', password: 'test' });\n  const [isRegisterinView, setIsRegisterinView] = useState(true);\n  const [checked, setChecked] = React.useState(true);\n\n  const handleCheck = (event) => {\n    setChecked(event.target.checked);\n  };\n\n  const toggleView = () => setIsRegisterinView(!isRegisterinView);\n\n  const onClick = () => {\n    let data = state;\n    let authReq = signUp;\n    NProgress.start();\n\n    if (!isRegisterinView) {\n      data = { email: data.email, password: data.password };\n      authReq = signIn;\n    }\n\n    authReq(data).then(({ user }) => {\n      NProgress.done();\n      window.location = user.role === 'admin' ? '/admin' : '/dashboard';\n    });\n  };\n  const handleChange = (name) => ({ target: { value } }) => setState({ ...state, [name]: value });\n  const classes = useStyles();\n\n  return (\n    <>\n      <Head>\n        <title>Login</title>\n      </Head>\n      <Grid container justify=\"center\" alignItems=\"center\" id=\"login\" className={classes.container}>\n        <div className=\"fullwidth text-center\">\n          <a href=\"/\">\n            <img src={LogoImg} alt=\"kit le nid\" />\n          </a>\n          <Grid container item alignItems=\"stretch\" justify=\"center\">\n            <Grid item xs={6} className={classes.signinLogo} />\n            <Grid\n              container\n              item\n              direction=\"column\"\n              justify=\"space-between\"\n              alignItems=\"center\"\n              md={6}\n              xs={12}\n              className={classes.signinFormContainer}\n            >\n              <Grid container item alignItems=\"flex-end\">\n                <div className=\"fullwidth\">\n                  <h1>{isRegisterinView ? 'Inscrivez-vous gratuitement !' : 'Connexion'}</h1>\n                  <h2>Accéder à tout notre accompagnement.</h2>\n                  <Grid container item justify=\"center\" className={classes.formContainer}>\n                    {isRegisterinView ? (\n                      <SignUp values={state} handleChange={handleChange} onClick={onClick} />\n                    ) : (\n                      <SignIn values={state} handleChange={handleChange} onClick={onClick} />\n                    )}\n                  </Grid>\n                  {isRegisterinView && (\n                    <Grid container alignItems=\"center\" className={classes.checkBoxContainer}>\n                      <Checkbox\n                        color=\"primary\"\n                        inputProps={{ 'aria-label': 'secondary checkbox' }}\n                      />\n                      <Typography variant=\"h3\">J’accepte les conditions générales</Typography>\n                    </Grid>\n                  )}\n                  <Grid container justify=\"center\" className={classes.btnContainer}>\n                    <Grid item>\n                      <Btn\n                        text={isRegisterinView ? 'Créer un compte' : 'Connectez-vous'}\n                        onClick={onClick}\n                        className=\"blueColor full login-btn\"\n                      />\n                    </Grid>\n                    <Grid item>\n                      <Btn\n                        text={isRegisterinView ? 'Connectez-vous' : 'Créer un compte'}\n                        onClick={toggleView}\n                        whiteColor\n                      />\n                    </Grid>\n                  </Grid>\n                </div>\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      </Grid>\n    </>\n  );\n};\n\nLoginTab.propTypes = {};\n\nexport default withAuth(LoginTab, { logoutRequired: true });\n"]},"metadata":{},"sourceType":"module"}