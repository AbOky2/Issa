{"ast":null,"code":"import _regeneratorRuntime from \"/usr/src/kit-le-nid/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _objectWithoutProperties from \"/usr/src/kit-le-nid/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _asyncToGenerator from \"/usr/src/kit-le-nid/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/usr/src/kit-le-nid/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/usr/src/kit-le-nid/components/admin/partnerModal/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { addPartnerApiMethod, updatePartnerApiMethod } from '../../../lib/api/admin';\nimport First from './first';\nimport Second from './second';\nimport Third from './third';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      position: 'relatve',\n      width: '100%'\n    },\n    backButton: {\n      marginRight: theme.spacing(1)\n    },\n    instructions: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1)\n    },\n    closeModal: {\n      position: 'sticky',\n      cursor: 'pointer',\n      padding: 10,\n      zIndex: 10,\n      backgroundColor: 'white',\n      '&:hover': {\n        backgroundColor: '#bbd0ff',\n        color: 'white'\n      }\n    }\n  };\n});\n\nvar getSteps = function getSteps() {\n  return ['Information', 'Autre', 'Contenu'];\n};\n\nexport default function HorizontalLabelPositionBelowStepper(_ref) {\n  _s();\n\n  var _this = this;\n\n  var _ref$current = _ref.current,\n      current = _ref$current === void 0 ? {} : _ref$current,\n      handleSubmit = _ref.handleSubmit,\n      handleClose = _ref.handleClose;\n  var classes = useStyles();\n\n  var _useState = useState(current),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var _useState2 = useState(0),\n      activeStep = _useState2[0],\n      setActiveStep = _useState2[1];\n\n  var steps = getSteps();\n\n  var handleBack = function handleBack() {\n    return setActiveStep(function (prevActiveStep) {\n      return prevActiveStep - 1;\n    });\n  };\n\n  var handleReset = function handleReset() {\n    return setActiveStep(0);\n  };\n\n  var handleChange = useCallback(function (name) {\n    return function (value) {\n      return setState(_objectSpread(_objectSpread({}, state), {}, _defineProperty({}, name, value)));\n    };\n  }, [state, setState]);\n\n  var handleNext = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data, _id, form;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(activeStep === steps.length - 1)) {\n                _context.next = 14;\n                break;\n              }\n\n              if (!(state !== null && state !== void 0 && state._id)) {\n                _context.next = 8;\n                break;\n              }\n\n              _id = state._id, form = _objectWithoutProperties(state, [\"_id\"]);\n              _context.next = 5;\n              return updatePartnerApiMethod(_id, form);\n\n            case 5:\n              data = _context.sent;\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.next = 10;\n              return addPartnerApiMethod(state);\n\n            case 10:\n              data = _context.sent;\n\n            case 11:\n              handleSubmit(data.list);\n              _context.next = 15;\n              break;\n\n            case 14:\n              setActiveStep(function (prevActiveStep) {\n                return prevActiveStep + 1;\n              });\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleNext() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getStepContent = function getStepContent(stepIndex) {\n    switch (stepIndex) {\n      case 0:\n        return __jsx(First, {\n          onChange: handleChange,\n          values: state,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 16\n          }\n        });\n\n      case 1:\n        return __jsx(Second, {\n          onChange: handleChange,\n          values: state,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 16\n          }\n        });\n\n      case 2:\n        return __jsx(Third, {\n          onChange: handleChange,\n          values: state,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 16\n          }\n        });\n\n      default:\n        return 'Unknown stepIndex';\n    }\n  };\n\n  useEffect(function () {\n    setState(current);\n  }, [current]);\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, __jsx(Stepper, {\n    activeStep: activeStep,\n    alternativeLabel: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, steps.map(function (label) {\n    return __jsx(Step, {\n      key: label,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, __jsx(StepLabel, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, label));\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, activeStep === steps.length ? __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    className: classes.instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"All steps completed\"), __jsx(Button, {\n    onClick: handleReset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Reset\")) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(Typography, {\n    className: classes.instructions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, getStepContent(activeStep)), __jsx(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    disabled: activeStep === 0,\n    onClick: handleBack,\n    className: classes.backButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, \"Precedent\"), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, activeStep === steps.length - 1 ? 'Fin' : 'Suivant')))));\n}\n\n_s(HorizontalLabelPositionBelowStepper, \"4gB2MRZdhEX/BX64+fZTfo7KK10=\", false, function () {\n  return [useStyles];\n});\n\n_c = HorizontalLabelPositionBelowStepper;\n\nvar _c;\n\n$RefreshReg$(_c, \"HorizontalLabelPositionBelowStepper\");","map":{"version":3,"sources":["/usr/src/kit-le-nid/components/admin/partnerModal/index.js"],"names":["React","useState","useCallback","useEffect","makeStyles","Stepper","Step","StepLabel","Button","Typography","addPartnerApiMethod","updatePartnerApiMethod","First","Second","Third","useStyles","theme","root","position","width","backButton","marginRight","spacing","instructions","marginTop","marginBottom","closeModal","cursor","padding","zIndex","backgroundColor","color","getSteps","HorizontalLabelPositionBelowStepper","current","handleSubmit","handleClose","classes","state","setState","activeStep","setActiveStep","steps","handleBack","prevActiveStep","handleReset","handleChange","name","value","handleNext","length","_id","form","data","list","getStepContent","stepIndex","map","label"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { addPartnerApiMethod, updatePartnerApiMethod } from '../../../lib/api/admin';\n\nimport First from './first';\nimport Second from './second';\nimport Third from './third';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relatve',\n    width: '100%',\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  closeModal: {\n    position: 'sticky',\n    cursor: 'pointer',\n    padding: 10,\n    zIndex: 10,\n    backgroundColor: 'white',\n    '&:hover': {\n      backgroundColor: '#bbd0ff',\n      color: 'white',\n    },\n  },\n}));\n\nconst getSteps = () => ['Information', 'Autre', 'Contenu'];\n\nexport default function HorizontalLabelPositionBelowStepper({\n  current = {},\n  handleSubmit,\n  handleClose,\n}) {\n  const classes = useStyles();\n  const [state, setState] = useState(current);\n  const [activeStep, setActiveStep] = useState(0);\n  const steps = getSteps();\n  const handleBack = () => setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  const handleReset = () => setActiveStep(0);\n  const handleChange = useCallback((name) => (value) => setState({ ...state, [name]: value }), [\n    state,\n    setState,\n  ]);\n  const handleNext = async () => {\n    if (activeStep === steps.length - 1) {\n      let data;\n      if (state?._id) {\n        const { _id, ...form } = state;\n        data = await updatePartnerApiMethod(_id, form);\n      } else data = await addPartnerApiMethod(state);\n      handleSubmit(data.list);\n    } else setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const getStepContent = (stepIndex) => {\n    switch (stepIndex) {\n      case 0:\n        return <First onChange={handleChange} values={state} />;\n      case 1:\n        return <Second onChange={handleChange} values={state} />;\n      case 2:\n        return <Third onChange={handleChange} values={state} />;\n      default:\n        return 'Unknown stepIndex';\n    }\n  };\n  useEffect(() => {\n    setState(current);\n  }, [current]);\n\n  return (\n    <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <div>\n        {activeStep === steps.length ? (\n          <div>\n            <Typography className={classes.instructions}>All steps completed</Typography>\n            <Button onClick={handleReset}>Reset</Button>\n          </div>\n        ) : (\n          <div>\n            <Typography className={classes.instructions}>{getStepContent(activeStep)}</Typography>\n            <div className=\"text-center\">\n              <Button\n                disabled={activeStep === 0}\n                onClick={handleBack}\n                className={classes.backButton}\n              >\n                Precedent\n              </Button>\n              <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n                {activeStep === steps.length - 1 ? 'Fin' : 'Suivant'}\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}