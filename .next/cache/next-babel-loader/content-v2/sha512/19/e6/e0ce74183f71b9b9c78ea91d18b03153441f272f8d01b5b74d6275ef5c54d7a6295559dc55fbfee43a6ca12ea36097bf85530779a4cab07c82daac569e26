{"ast":null,"code":"import _defineProperty from \"/usr/src/kit-le-nid/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport clsx from 'clsx';\nimport { Grid, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Input, Select, Modal, Icon, Btn } from './form';\nimport Calendr from '../static/img/icons/calendr.png';\nimport { logOut } from '../lib/api/public';\nimport LogoImg from '../static/img/logo.png';\n\nvar UpdateProfile = function UpdateProfile(_ref) {\n  var handleChange = _ref.handleChange,\n      handleSumbit = _ref.handleSumbit,\n      openModal = _ref.openModal,\n      onClose = _ref.onClose,\n      _ref$values = _ref.values,\n      values = _ref$values === void 0 ? {} : _ref$values;\n  return __jsx(Modal, {\n    openModal: openModal,\n    onClose: onClose,\n    onClick: handleSumbit,\n    title: \"Vos informations\",\n    confirmText: \"Mettre \\xE0 jour\"\n  }, __jsx(Grid, {\n    container: true,\n    item: true,\n    justify: \"center\",\n    className: \"form-container\"\n  }, __jsx(Grid, {\n    container: true,\n    item: true\n  }, __jsx(Input, {\n    value: values.lastName,\n    label: \"Nom*\",\n    onChange: handleChange,\n    name: \"lastName\",\n    position: \"left\"\n  }), __jsx(Input, {\n    value: values.firstName,\n    label: \"Pr\\xE9nom*\",\n    onChange: handleChange,\n    name: \"firstName\",\n    position: \"right\"\n  }), __jsx(Input, {\n    value: values.email,\n    label: \"E-mail*\",\n    onChange: handleChange,\n    name: \"email\",\n    type: \"email\",\n    position: \"left\"\n  }), __jsx(Input, {\n    value: values.phone,\n    label: \"T\\xE9l\\xE9phone\",\n    onChange: handleChange,\n    name: \"phone\",\n    type: \"phone\",\n    position: \"right\"\n  }), __jsx(Input, {\n    value: values.password,\n    label: \"Mot de passe\",\n    placeholder: \"Votre mot de passe\",\n    onChange: handleChange,\n    name: \"password\",\n    type: \"password\",\n    position: \"left\"\n  }), __jsx(Select, {\n    name: \"status\",\n    value: values.status,\n    onChange: handleChange,\n    label: \"Status\",\n    position: \"right\",\n    list: [{\n      name: 'Etudiant',\n      value: 'student'\n    }, {\n      name: 'Jeune Travailleur',\n      value: 'worker'\n    }]\n  }))));\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    container: {\n      height: 'calc(100vh - 60px)',\n      padding: '3rem 0 0'\n    },\n    logoContainer: {\n      marginBottom: '40px',\n      width: '100%',\n      textAlign: 'center',\n      '& img': {\n        width: 35\n      }\n    },\n    navContainer: {\n      width: '100%',\n      '& > div .active-nav-link': {\n        backgroundColor: 'rgba(79, 128, 255, 0.19)',\n        border: '1px solid #c1cde7'\n      },\n      '& > div a': {\n        display: 'flex',\n        marginBottom: '9px',\n        padding: 'calc(2rem - 6px)',\n        width: '100%',\n        alignItems: 'center',\n        textAlign: 'left',\n        borderRadius: '13px',\n        border: '1px solid transparent',\n        cursor: 'pointer'\n      },\n      '& > div span': {\n        marginLeft: '25px',\n        color: '#1a2e6c',\n        fontFamily: 'Open Sans',\n        fontWeight: 'bold',\n        fontSize: '1.7rem'\n      },\n      '& > div .active-nav-link span': {\n        color: '#4f80ff'\n      },\n      '& > div .active-nav-link svg path': {\n        fill: '#4f80ff'\n      },\n      '& > div svg path': {\n        fill: '#1a2e6c'\n      }\n    },\n    contextMenu: {\n      marginBottom: '1.5rem',\n      padding: '2rem',\n      backgroundColor: 'white',\n      borderRadius: '15px',\n      textAlign: 'left',\n      fontFamily: 'Open Sans',\n      fontStyle: 'normal',\n      fontWeight: '600',\n      fontSize: '1.6rem',\n      lineHeight: '22px',\n      cursor: 'pointer'\n    },\n    logoutBtn: {\n      marginBottom: '1.5rem',\n      color: '#eb5757'\n    },\n    profileContainer: {\n      position: 'relative',\n      padding: '2rem',\n      backgroundColor: 'white',\n      borderRadius: '15px',\n      cursor: 'pointer',\n      maxWidth: 235,\n      '& svg:first-of-type': {},\n      '& svg:last-of-type': {\n        position: 'absolute',\n        top: '50%',\n        right: '10px',\n        width: '12px!important',\n        transform: 'translateY(calc(50% - 13px)) rotate(180deg)'\n      }\n    },\n    userName: {\n      width: 'calc(100% - 30px)',\n      marginRight: 'auto',\n      padding: '0 10px',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    },\n    userPictureContainer: {\n      width: 50,\n      paddingRight: 10\n    },\n    userPicture: {\n      maxWidth: 40,\n      borderRadius: '100%'\n    },\n    mobileContainer: _defineProperty({\n      position: 'fixed',\n      bottom: 0,\n      left: 0,\n      width: '100%',\n      backgroundColor: 'white',\n      boxShadow: '0px 4px 13px rgba(0, 0, 0, 0.1)',\n      borderTopLeftRadius: 15,\n      borderTopRightRadius: 15,\n      padding: '.5rem 3rem',\n      zIndex: 10,\n      '& > div a': {\n        display: 'inline-block',\n        width: 'fit-content',\n        marginBottom: 0,\n        textAlign: 'center'\n      },\n      '& > div .active-nav-link': {\n        backgroundColor: 'initial',\n        border: 'none',\n        textAlign: 'center'\n      },\n      '& > div .active-nav-link p': {\n        fontWeight: 'bold',\n        color: '#4F80FF'\n      },\n      '& > div p': {\n        margin: '4px 0 6px',\n        fontSize: 10\n      },\n      '& span': {\n        display: 'block'\n      }\n    }, theme.breakpoints.down('md'), {\n      margin: 'auto'\n    }),\n    calendar: {\n      '& img': {\n        width: 20\n      }\n    },\n    sponsorship: {\n      width: '100%',\n      '& > div': {\n        padding: '1.5rem 0',\n        width: '100%'\n      },\n      '& svg': {\n        marginRight: '1.5rem'\n      },\n      '& span': {\n        fontSize: 14\n      }\n    },\n    activeLink: {\n      backgroundColor: 'rgba(79, 128, 255, 0.19)',\n      border: '1px solid #c1cde7',\n      '& svg path': {\n        fill: '#4f80ff!important'\n      },\n      '& span': {\n        color: \"\".concat(theme.palette.newBlue, \"!important\")\n      }\n    }\n  };\n});\nvar MenuItems = [{\n  href: '/dashboard',\n  iconType: 'home',\n  txt: 'Accueil'\n}, {\n  href: '/dashboard/bookmark',\n  iconType: 'heart',\n  txt: 'Favoris'\n}, {\n  href: '/dashboard/sponsorship',\n  iconType: 'sponsorship',\n  txt: 'Parrainage'\n}];\nexport var MobileMenu = function MobileMenu() {\n  var classes = useStyles();\n\n  var _useRouter = useRouter(),\n      asPath = _useRouter.asPath;\n\n  return __jsx(Grid, {\n    container: true,\n    alignItems: \"center\",\n    justify: \"space-between\",\n    className: clsx(classes.navContainer, classes.mobileContainer)\n  }, MenuItems === null || MenuItems === void 0 ? void 0 : MenuItems.map(function (_ref2) {\n    var href = _ref2.href,\n        txt = _ref2.txt,\n        iconType = _ref2.iconType;\n    return __jsx(Grid, {\n      key: href,\n      item: true\n    }, __jsx(Link, {\n      href: href\n    }, __jsx(\"a\", {\n      className: asPath === href ? classes.activeLink : null\n    }, __jsx(Icon, {\n      type: iconType\n    }), __jsx(\"p\", null, txt))));\n  }), __jsx(Grid, {\n    item: true,\n    className: classes.calendar\n  }, __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", null, __jsx(\"div\", null, __jsx(\"img\", {\n    src: Calendr,\n    alt: \"\"\n  })), __jsx(\"p\", null, \"Rendez-vous\")))));\n};\nvar logoSize = {\n  width: 37\n};\n\nvar StudentProfile = function StudentProfile(_ref3) {\n  var user = _ref3.user;\n\n  var _useState = useState(false),\n      showSubMenu = _useState[0],\n      setShowSubMenu = _useState[1];\n\n  var _useState2 = useState(false),\n      openModal = _useState2[0],\n      setOpenModal = _useState2[1];\n\n  var _useState3 = useState(user),\n      state = _useState3[0],\n      setState = _useState3[1];\n\n  var _useRouter2 = useRouter(),\n      asPath = _useRouter2.asPath;\n\n  var handleChange = function handleChange(name) {\n    return function (_ref4) {\n      var value = _ref4.target.value;\n      return setState(_objectSpread(_objectSpread({}, state), {}, _defineProperty({}, name, value)));\n    };\n  };\n\n  var handleModalClose = function handleModalClose() {\n    return setOpenModal(false);\n  };\n\n  var handleOpenModal = function handleOpenModal() {\n    return setOpenModal(true);\n  };\n\n  var toggleShowSubMenu = function toggleShowSubMenu() {\n    return setShowSubMenu(!showSubMenu);\n  }; // eslint-disable-next-line no-return-assign\n\n\n  var handleLogOut = function handleLogOut() {\n    return logOut().then(function () {\n      return window.location = '/login';\n    });\n  };\n\n  var handleSumbit = function handleSumbit() {\n    handleModalClose();\n    console.log('Submit');\n  };\n\n  var classes = useStyles();\n  return __jsx(\"div\", {\n    id: \"sidebar\"\n  }, __jsx(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"space-between\",\n    className: classes.container\n  }, __jsx(Grid, {\n    container: true\n  }, __jsx(Grid, {\n    className: classes.logoContainer\n  }, __jsx(Link, {\n    href: \"/dashboard\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    src: LogoImg,\n    alt: \"\"\n  })))), __jsx(Grid, {\n    className: classes.navContainer\n  }, MenuItems === null || MenuItems === void 0 ? void 0 : MenuItems.map(function (_ref5) {\n    var href = _ref5.href,\n        txt = _ref5.txt,\n        iconType = _ref5.iconType;\n    return __jsx(Grid, {\n      key: href,\n      container: true,\n      alignItems: \"center\"\n    }, __jsx(Link, {\n      href: href\n    }, __jsx(\"a\", {\n      className: asPath === href ? classes.activeLink : null\n    }, __jsx(Icon, {\n      type: iconType\n    }), __jsx(\"span\", null, txt))));\n  })), __jsx(\"div\", {\n    className: classes.sponsorship\n  }, __jsx(Btn, {\n    text: \"Prendre rendez-vous\",\n    iconType: \"calendar\",\n    onClick: function onClick() {\n      return console.log('Implement calendly');\n    }\n  }))), __jsx(\"div\", null, showSubMenu && __jsx(\"div\", {\n    className: classes.contextMenu\n  }, __jsx(\"div\", {\n    onClick: handleLogOut,\n    className: classes.logoutBtn\n  }, \"D\\xE9connexion\"), __jsx(\"div\", {\n    onClick: handleOpenModal\n  }, \"Modifier vos informations\")), __jsx(Grid, {\n    container: true,\n    alignItems: \"center\",\n    justify: \"space-between\",\n    className: classes.profileContainer,\n    onClick: toggleShowSubMenu\n  }, __jsx(Icon, {\n    type: \"user\"\n  }), __jsx(Typography, {\n    variant: \"subtitle1\",\n    className: classes.userName\n  }, \"\".concat(state === null || state === void 0 ? void 0 : state.firstName, \" \").concat(state === null || state === void 0 ? void 0 : state.lastName)), __jsx(Icon, {\n    type: \"triangle\",\n    size: \"small\"\n  }))), __jsx(UpdateProfile, {\n    values: state,\n    handleChange: handleChange,\n    handleSumbit: handleSumbit,\n    openModal: openModal,\n    onClose: handleModalClose\n  })));\n};\n\nexport default StudentProfile;","map":null,"metadata":{},"sourceType":"module"}