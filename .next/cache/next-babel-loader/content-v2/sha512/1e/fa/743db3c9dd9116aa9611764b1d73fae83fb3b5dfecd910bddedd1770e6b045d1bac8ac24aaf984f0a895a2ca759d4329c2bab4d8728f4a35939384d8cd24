{"ast":null,"code":"import _defineProperty from \"/usr/src/kit-le-nid/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Grid, Typography } from '@material-ui/core';\nimport Link from 'next/link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AdminContentWrapper } from '../../components/wrapper';\nimport { addBookmarkApiMethod, getCurrentUserkApiMethod } from '../../lib/api/customer';\nimport Card from '../../components/card';\nimport { Btn } from '../../components/form';\nimport withAuth from '../../lib/withAuth';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    notFound: {\n      '& > div:first-of-type': {\n        marginBottom: '40px',\n        padding: '3.2rem',\n        borderRadius: '2.5rem',\n        color: 'white',\n        background: 'white',\n        margin: '2.8rem 0 5.6rem',\n        boxShadow: '0px 4px 20px rgba(24, 55, 50, 0.04)'\n      },\n      '& > div:first-of-type h3': {\n        marginBottom: 16,\n        '& span': {\n          marginRight: 5\n        }\n      }\n    },\n    card: {\n      width: 'calc(100% - 14px)'\n    },\n    btnContainer: {\n      textAlign: 'center',\n      '& > div': {\n        display: 'inline-block',\n        padding: '1.8rem 3rem',\n        background: '#4f80ff',\n        borderRadius: '10px',\n        '&:first-of-type': {\n          marginRight: 12\n        },\n        '&:last-of-type': {\n          marginLeft: 12,\n          background: 'white',\n          border: \"1px solid \".concat(theme.palette.newBlue),\n          '& a': {\n            color: '#4f80ff'\n          }\n        }\n      },\n      '& a': {\n        fontFamily: 'Open Sans',\n        fontStyle: 'normal',\n        fontWeight: '600',\n        fontSize: '18px',\n        lineHeight: '28px',\n        display: 'flex',\n        alignItems: 'center',\n        color: '#ffffff'\n      }\n    },\n    listContainer: _defineProperty({\n      width: 'calc(33% - 11px)',\n      marginBottom: '2rem',\n      '&:nth-child(3n+2)': {\n        margin: '0 2.1rem 2rem'\n      }\n    }, theme.breakpoints.down('sm'), {\n      width: '100%'\n    })\n  };\n});\n\nvar BookmarkPage = function BookmarkPage(_ref) {\n  var user = _ref.user;\n\n  var _useState = useState(user.bookmarks),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var classes = useStyles();\n\n  var handleBookmark = function handleBookmark(id) {\n    setState(state.filter(function (elem) {\n      return elem._id !== id;\n    }));\n    addBookmarkApiMethod({\n      id: id\n    });\n  };\n\n  useEffect(function () {\n    getCurrentUserkApiMethod().then(function (_ref2) {\n      var user = _ref2.user;\n      return setState(user.bookmarks);\n    });\n  }, []);\n  return __jsx(AdminContentWrapper, {\n    redirectDashboard: true\n  }, __jsx(\"div\", null, state !== null && state !== void 0 && state.length ? __jsx(Grid, {\n    container: true\n  }, state.map(function (_ref3) {\n    var _id = _ref3._id,\n        title = _ref3.title,\n        pictures = _ref3.pictures,\n        address = _ref3.address,\n        typeOfProperties = _ref3.typeOfProperties,\n        dimensions = _ref3.dimensions,\n        price = _ref3.price;\n    return __jsx(Grid, {\n      item: true,\n      key: _id,\n      className: classes.listContainer\n    }, __jsx(Link, {\n      href: \"/dashboard/property/\".concat(_id)\n    }, __jsx(\"a\", null, __jsx(Card, {\n      _id: _id,\n      title: title,\n      src: pictures === null || pictures === void 0 ? void 0 : pictures[0],\n      address: address,\n      description: typeOfProperties,\n      dimensions: dimensions,\n      price: price,\n      liked: true,\n      onClick: handleBookmark\n    }))));\n  })) : __jsx(\"div\", {\n    className: classes.notFound\n  }, __jsx(Typography, {\n    variant: \"h1\"\n  }, \"Vos favoris\"), __jsx(\"div\", null, __jsx(Typography, {\n    variant: \"h3\"\n  }, __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"cring\"\n  }, \"\\uD83D\\uDE22\"), \"Vous n\\u2019avez pas encore de logements sauvegard\\xE9s en favoris\"), __jsx(Typography, {\n    variant: \"body1\"\n  }, \"Pour ajouter un logement dans vos favoris, il vous suffit de cliquer sur la coeur en haut \\xE0 gauche quand vous effectuez une recherche de logements. Ou bien, vous pouvez cliquer sur le boutton \\u201Csauvegarder\\u201D quand vous \\xEAtes sur la page d\\u2019un logement.\")), __jsx(\"div\", null, __jsx(Grid, {\n    container: true,\n    justify: \"center\",\n    className: classes.btnContainer\n  }, __jsx(Btn, {\n    href: \"/dashboard/search\",\n    text: \"Rechercher un logement \\xE0 acheter\"\n  }), __jsx(Btn, {\n    href: \"/dashboard/search\",\n    text: \"Rechercher un logement \\xE0 louer\",\n    whiteColor: true\n  }))))));\n};\n\nexport default withAuth(BookmarkPage);","map":null,"metadata":{},"sourceType":"module"}